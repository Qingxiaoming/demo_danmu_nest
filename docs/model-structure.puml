@startuml MES系统数据模型图

' 设置主题和样式
skinparam class {
    BackgroundColor White
    ArrowColor Black
    BorderColor Black
}

' 基础模型
abstract class BaseModel {
    +id: number
    +createdAt: Date
    +updatedAt: Date
}

' 工厂模型
class Factory {
    +name: string
    +address: string
    +productionLines: number
    +status: number
    +contactPerson: string
    +contactPhone: string
}

' 用户模型
class User {
    +factoryId: number
    +code: string
    +userName: string
    +phone: string
    +section: string
    +role: string
    +email: string
    +password: string
    +isActive: boolean
}

' 工艺卡模型
class ProcessCard {
    +factoryId: number
    +name: string
    +type: ProductionLineType
    +useCount: number
    +version: string
    +remark: string
    +isActive: boolean
    +lastUpdateTime: Date
}

' 工艺卡项目模型
class ProcessCardItem {
    +factoryId: number
    +cardId: number
    +serialNumber: string
    +processType: string
    +processSteps: string
    +material: string
    +processFactory: string
    +equipment: string
    +checkType: string
    +paramRange: string
    +unit: string
}

' 工艺模板模型
class ProcessTemplate {
    +factoryId: number
    +name: string
    +type: CoatingType
    +useCount: number
    +version: string
    +remark: string
    +status: boolean
}

' 工艺模板项目模型
class ProcessTemplateItem {
    +factoryId: number
    +templateId: number
    +levelOneName: string
    +levelTwoName: string
    +levelThreeName: string
    +valueRange: string
    +unit: string
}

' 检验记录模型
class InspectRecord {
    +inspecttableid: number
    +userId: number
    +value: string
    +image: string
    +remark: string
}

' 参数记录模型
class ParameterRecord {
    +parameterTableId: number
    +userId: number
    +value: string
    +image: string
    +remark: string
}

' 检验表模型
class InspectTable {
    +name: string
    +teststand: string
    +projec: string
}

' 参数表模型
class ParameterTable {
    +name: string
    +teststand: string
    +projec: string
}

' 继承关系
BaseModel <|-- Factory
BaseModel <|-- User
BaseModel <|-- ProcessCard
BaseModel <|-- ProcessCardItem
BaseModel <|-- ProcessTemplate
BaseModel <|-- ProcessTemplateItem
BaseModel <|-- InspectRecord
BaseModel <|-- ParameterRecord
BaseModel <|-- InspectTable
BaseModel <|-- ParameterTable

' 关联关系
Factory "1" <-- "*" User : belongs to
Factory "1" <-- "*" ProcessCard : belongs to
Factory "1" <-- "*" ProcessTemplate : belongs to
ProcessCard "1" <-- "*" ProcessCardItem : belongs to
ProcessTemplate "1" <-- "*" ProcessTemplateItem : belongs to
User "1" <-- "*" InspectRecord : belongs to
User "1" <-- "*" ParameterRecord : belongs to
InspectTable "1" <-- "*" InspectRecord : belongs to
ParameterTable "1" <-- "*" ParameterRecord : belongs to

@enduml
